
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="John DeNero, Jedi Tsang (Guest Lecturer), Shm Almeda (GSI)" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/assets/js/hl.js"></script>
    <script src="/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="/assets/css/lab.css">


    <title>
Lab 8 Solutions | CS 61A Fall 2024
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            CS 61A
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/">Lectures</a></li>
            
            <li><a href="/articles/about-61a/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/63971/discussion/">Ed</a></li>
            
            <li><a href="/office-hours/">Office Hours</a></li>
            
            <li><a href="/articles/contact-61a/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://go.cs61a.org/61a-extensions">Request an Extension</a></li>
                
                <li><a href="https://go.cs61a.org/61a-regrades">Request a Regrade</a></li>
                
                <li><a href="https://oh.cs61a.org/">Office Hours Queue</a></li>
                
                <li><a href="https://www.gradescope.com/courses/843175">Gradescope</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1538118/pages">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://code.cs61a.org/scheme/">Scheme Editor</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/articles/campus-res/">Campus Resources</a></li>
                
                <li><a href="/articles/advice/">Advice from Students</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/instructor">Instructors</a></li>
                
                <li><a href="/staff">TAs & Tutors</a></li>
                
                <li><a href="/academic-interns">Academic Interns</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Lab 8 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="lab08.zip" class="label label-outline">lab08.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>


    
<h1 id="topics">Topics</h1>


<p>Consult this section if you need a refresher on the material for this lab. It's
okay to skip directly to <a href="#required-questions">the questions</a> and refer back
here should you get stuck.</p>

<br>

        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Mutable Trees<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">


<h2 id="mutable-trees" class="no-toc">Mutable Trees</h2>


<p>A <code>Tree</code> instance has two instance attributes:</p>

<ul>
  <li><code>label</code> is the value stored at the root of the tree.</li>
  <li><code>branches</code> is a list of <code>Tree</code> instances that hold the labels in the rest of the tree.</li>
</ul>

<p>The <code>Tree</code> class (with its <code>__repr__</code> and <code>__str__</code> methods omitted) is defined as:</p>

<pre><code>class Tree:
    &quot;&quot;&quot;A tree has a label and a list of branches.

    &gt;&gt;&gt; t = Tree(3, [Tree(2, [Tree(5)]), Tree(4)])
    &gt;&gt;&gt; t.label
    3
    &gt;&gt;&gt; t.branches[0].label
    2
    &gt;&gt;&gt; t.branches[1].is_leaf()
    True
    &quot;&quot;&quot;
    def __init__(self, label, branches=[]):
        self.label = label
        for branch in branches:
            assert isinstance(branch, Tree)
        self.branches = list(branches)

    def is_leaf(self):
        return not self.branches</code></pre>

<p>To construct a <code>Tree</code> instance from a label <code>x</code> (any value) and a list of branches <code>bs</code> (a list of <code>Tree</code> instances) and give it the name <code>t</code>, write <code>t = Tree(x, bs)</code>.</p>

<p>For a tree <code>t</code>:</p>

<ul>
  <li>Its root label can be any value, and <code>t.label</code> evaluates to it.</li>
  <li>Its branches are always <code>Tree</code> instances, and <code>t.branches</code> evaluates to the <strong>list</strong> of its branches.</li>
  <li><code>t.is_leaf()</code> returns <code>True</code> if <code>t.branches</code> is empty and <code>False</code> otherwise.</li>
  <li>To construct a leaf with label <code>x</code>, write <code>Tree(x)</code>.</li>
</ul>

<p>Displaying a tree <code>t</code>:</p>

<ul>
  <li><code>repr(t)</code> returns a Python expression that evaluates to an equivalent tree.</li>
  <li><code>str(t)</code> returns one line for each label indented once more than its parent with children below their parents.</li>
</ul>

<pre><code>&gt;&gt;&gt; t = Tree(3, [Tree(1, [Tree(4), Tree(1)]), Tree(5, [Tree(9)])])

&gt;&gt;&gt; t         # displays the contents of repr(t)
Tree(3, [Tree(1, [Tree(4), Tree(1)]), Tree(5, [Tree(9)])])

&gt;&gt;&gt; print(t)  # displays the contents of str(t)
3
  1
    4
    1
  5
    9</code></pre>



<p>Changing (also known as mutating) a tree <code>t</code>:</p>

<ul>
  <li><code>t.label = y</code> changes the root label of <code>t</code> to <code>y</code> (any value).</li>
  <li><code>t.branches = ns</code> changes the branches of <code>t</code> to <code>ns</code> (a list of <code>Tree</code> instances).</li>
  <li>Mutation of <code>t.branches</code> will change <code>t</code>. For example,
  <code>t.branches.append(Tree(y))</code> will add a leaf labeled <code>y</code> as the right-most
  branch.</li>
  <li>Mutation of any branch in <code>t</code> will change <code>t</code>. For example,
  <code>t.branches[0].label = y</code> will change the root label of the left-most branch
  to <code>y</code>.</li>
</ul>

<pre><code>&gt;&gt;&gt; t.label = 3.0
&gt;&gt;&gt; t.branches[1].label = 5.0
&gt;&gt;&gt; t.branches.append(Tree(2, [Tree(6)]))
&gt;&gt;&gt; print(t)
3.0
  1
    4
    1
  5.0
    9
  2
    6</code></pre>



<p>Here is a summary of the differences between the tree data abstraction implemented as a functional abstraction vs. implemented as a class:</p>




        <div class="table-responsive">
          <table class="table table-bordered">
          
  <tr>
    <th>-</th>
    <th>Tree constructor and selector functions</th>
    <th>Tree class</th>
  </tr>
  <tr>
    <td>Constructing a tree</td>
    <td>To construct a tree given a <code>label</code> and a list of <code>branches</code>, we call <code>tree(label, branches)</code></td>
    <td>To construct a tree object given a <code>label</code> and a list of <code>branches</code>, we call <code>Tree(label, branches)</code> (which calls the <code>Tree.__init__</code> method).</td>
  </tr>
  <tr>
    <td>Label and branches</td>
    <td>To get the label or branches of a tree <code>t</code>, we call <code>label(t)</code> or <code>branches(t)</code> respectively</td>
    <td>To get the label or branches of a tree <code>t</code>, we access the instance attributes <code>t.label</code> or <code>t.branches</code> respectively.</td>
  </tr>
  <tr>
    <td>Mutability</td>
    <td>The functional tree data abstraction is immutable (without violating its abstraction barrier) because we cannot assign values to call expressions</td>
    <td>The <code>label</code> and <code>branches</code> attributes of a <code>Tree</code> instance can be reassigned, mutating the tree.</td>
  </tr>
  <tr>
    <td>Checking if a tree is a leaf</td>
    <td>To check whether a tree <code>t</code> is a leaf, we call the function <code>is_leaf(t)</code></td>
    <td>To check whether a tree <code>t</code> is a leaf, we call the method <code>t.is_leaf()</code>. This method can only be called on <code>Tree</code> objects.</td>
  </tr>

          </table>
        </div>
        


</div>
<br>


<h1 id="required-questions">Required Questions</h1>


<br>

        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Getting Started Videos<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">


<h2 id="getting-started-videos" class="no-toc">Getting Started Videos</h2>


<p>These videos may provide some helpful direction for tackling the coding
problems on this assignment.</p>

<blockquote><p>To see these videos, you should be logged into your berkeley.edu email.</p></blockquote>


            <iframe width="560" height="315" src="https://youtube.com/embed/videoseries?list=PLx38hZJ5RLZcTFneco1hxG-G9LRpCoi5N"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" aria-label = "lab8-getstarted"
                allowfullscreen></iframe><p><a href='https://youtu.be/playlist?list=PLx38hZJ5RLZcTFneco1hxG-G9LRpCoi5N'> YouTube link </a></p>
</div>


<h2 id="mutable-trees">Mutable Trees</h2>



<h3 id="q1-wwpd-trees">Q1: WWPD: Trees</h3>


<p>Read over the <code>Tree</code> class in <code>lab08.py</code>. Make sure you understand the
doctests.</p>

<blockquote><p>Use Ok to test your knowledge with the following "What Would Python Display?"
questions:</p>

<pre><code>python3 ok &#x2d;q trees&#x2d;wwpd &#x2d;u</code></pre>

<p>Enter <code>Function</code> if you believe the answer is <code>&lt;function ...&gt;</code>, <code>Error</code> if it
errors, and <code>Nothing</code> if nothing is displayed. Recall that <code>Tree</code> instances
will be displayed the same way they are constructed.</p></blockquote>

<pre><code>&gt;&gt;&gt; t = Tree(1, Tree(2))
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x45;&#x72;&#x72;&#x6f;&#x72;</div>
&gt;&gt;&gt; t = Tree(1, [Tree(2)])
&gt;&gt;&gt; t.label
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x31;</div>
&gt;&gt;&gt; t.branches[0]
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x54;&#x72;&#x65;&#x65;&#x28;&#x32;&#x29;</div>
&gt;&gt;&gt; t.branches[0].label
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x32;</div>
&gt;&gt;&gt; t.label = t.branches[0].label
&gt;&gt;&gt; t
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x54;&#x72;&#x65;&#x65;&#x28;&#x32;&#x2c;&#x20;&#x5b;&#x54;&#x72;&#x65;&#x65;&#x28;&#x32;&#x29;&#x5d;&#x29;</div>
&gt;&gt;&gt; t.branches.append(Tree(4, [Tree(8)]))
&gt;&gt;&gt; len(t.branches)
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x32;</div>
&gt;&gt;&gt; t.branches[0]
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x54;&#x72;&#x65;&#x65;&#x28;&#x32;&#x29;</div>
&gt;&gt;&gt; t.branches[1]
<div class="alt prompt-1">______</div><div class="solution prompt-1">&#x54;&#x72;&#x65;&#x65;&#x28;&#x34;&#x2c;&#x20;&#x5b;&#x54;&#x72;&#x65;&#x65;&#x28;&#x38;&#x29;&#x5d;&#x29;</div></code></pre>
        <button id='prompt-1' class='btn btn-outline btn-lg solutiontoggle prompt'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        


<h3 id="q2-cumulative-mul">Q2: Cumulative Mul</h3>


<p>Write a function <code>cumulative_mul</code> that mutates the Tree <code>t</code> so that each node's
label is replaced by the product of its label and the labels of all its descendents.</p>

<blockquote><p><strong>Hint</strong>:
Be careful of the order in which you mutate the current node's label and process its subtrees; which one should come first?</p></blockquote>

<solution>

<pre><code>def cumulative_mul(t):
    &quot;&quot;&quot;Mutates t so that each node&#x27;s label becomes the product of its own
    label and all labels in the corresponding subtree rooted at t.

    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; cumulative_mul(t)
    &gt;&gt;&gt; t
    Tree(105, [Tree(15, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; otherTree = Tree(2, [Tree(1, [Tree(3), Tree(4), Tree(5)]), Tree(6, [Tree(7)])])
    &gt;&gt;&gt; cumulative_mul(otherTree)
    &gt;&gt;&gt; otherTree
    Tree(5040, [Tree(60, [Tree(3), Tree(4), Tree(5)]), Tree(42, [Tree(7)])])
    &quot;&quot;&quot;
<div class="sol-highlight">    for b in t.branches:
        cumulative_mul(b)
    total = t.label
    for b in t.branches:
        total *= b.label
    t.label = total

# Alternate solution using only one loop
def cumulative_mul(t):
    for b in t.branches:
        cumulative_mul(b)
        t.label *= b.label</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q cumulative_mul<button id="copy-code-python3ok-qcumulative_mul" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qcumulative_mul").onclick = () => copyCode('python3 ok -q cumulative_mul', "copy-code-python3ok-qcumulative_mul");
        </script>
        <br/>


<h3 id="q3-prune-small">Q3: Prune Small</h3>


<p>Removing some nodes from a tree is called <em>pruning</em> the tree.</p>

<p>Complete the function <code>prune_small</code> that takes in a <code>Tree</code> <code>t</code> and a number <code>n</code>.
For each node with more than <code>n</code> branches, keep only the <code>n</code> branches with the
smallest labels and remove (<em>prune</em>) the rest.</p>

<blockquote><p><em>Hint</em>: The <code>max</code> function takes in an <code>iterable</code> as well as an optional <code>key</code> argument (which takes in a one-argument function).
For example, <code>max([&#x2d;7, 2, &#x2d;1], key=abs)</code> would return <code>&#x2d;7</code> since <code>abs(&#x2d;7)</code> is greater than <code>abs(2)</code> and <code>abs(&#x2d;1)</code>.</p></blockquote>

<solution>

<pre><code><div class="sol-highlight">def prune_small(t, n):</div>    &quot;&quot;&quot;Prune the tree mutatively, keeping only the n branches
    of each node with the smallest labels.

    &gt;&gt;&gt; t1 = Tree(6)
    &gt;&gt;&gt; prune_small(t1, 2)
    &gt;&gt;&gt; t1
    Tree(6)
    &gt;&gt;&gt; t2 = Tree(6, [Tree(3), Tree(4)])
    &gt;&gt;&gt; prune_small(t2, 1)
    &gt;&gt;&gt; t2
    Tree(6, [Tree(3)])
    &gt;&gt;&gt; t3 = Tree(6, [Tree(1), Tree(3, [Tree(1), Tree(2), Tree(3)]), Tree(5, [Tree(3), Tree(4)])])
    &gt;&gt;&gt; prune_small(t3, 2)
    &gt;&gt;&gt; t3
    Tree(6, [Tree(1), Tree(3, [Tree(1), Tree(2)])])
    &quot;&quot;&quot;
<div class="sol-highlight">    while len(t.branches) &gt; n:</div><div class="sol-highlight">        largest = max(t.branches, key=lambda x: x.label)</div>        t.branches.remove(largest)
    for b in t.branches:
<div class="sol-highlight">        prune_small(b, n)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q prune_small<button id="copy-code-python3ok-qprune_small" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qprune_small").onclick = () => copyCode('python3 ok -q prune_small', "copy-code-python3ok-qprune_small");
        </script>
        <br/>


<h3 id="q4-delete">Q4: Delete</h3>


<p>Implement <code>delete</code>, which takes a Tree <code>t</code> and removes all non-root nodes labeled <code>x</code>.
The parent of each remaining node is its nearest ancestor that was not removed.
The root node is never removed, even if its label is <code>x</code>.</p>

<solution>

<pre><code>def delete(t, x):
    &quot;&quot;&quot;Remove all nodes labeled x below the root within Tree t. When a non&#x2d;leaf
    node is deleted, the deleted node&#x27;s children become children of its parent.

    The root node will never be removed.

    &gt;&gt;&gt; t = Tree(3, [Tree(2, [Tree(2), Tree(2)]), Tree(2), Tree(2, [Tree(2, [Tree(2), Tree(2)])])])
    &gt;&gt;&gt; delete(t, 2)
    &gt;&gt;&gt; t
    Tree(3)
    &gt;&gt;&gt; t = Tree(1, [Tree(2, [Tree(4, [Tree(2)]), Tree(5)]), Tree(3, [Tree(6), Tree(2)]), Tree(4)])
    &gt;&gt;&gt; delete(t, 2)
    &gt;&gt;&gt; t
    Tree(1, [Tree(4), Tree(5), Tree(3, [Tree(6)]), Tree(4)])
    &gt;&gt;&gt; t = Tree(1, [Tree(2, [Tree(4), Tree(5)]), Tree(3, [Tree(6), Tree(2)]), Tree(2, [Tree(6),  Tree(2), Tree(7), Tree(8)]), Tree(4)])
    &gt;&gt;&gt; delete(t, 2)
    &gt;&gt;&gt; t
    Tree(1, [Tree(4), Tree(5), Tree(3, [Tree(6)]), Tree(6), Tree(7), Tree(8), Tree(4)])
    &quot;&quot;&quot;
    new_branches = []
<div class="sol-highlight">    for b in t.branches:</div><div class="sol-highlight">        delete(b, x)</div>        if b.label == x:
<div class="sol-highlight">            new_branches.extend(b.branches)</div>        else:
<div class="sol-highlight">            new_branches.append(b)</div><div class="sol-highlight">    t.branches = new_branches</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q delete<button id="copy-code-python3ok-qdelete" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qdelete").onclick = () => copyCode('python3 ok -q delete', "copy-code-python3ok-qdelete");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Gradescope to receive credit for it.</p>


<h1 id="submit-assignment">Submit Assignment</h1>


<p>If you are in a regular section of CS 61A, fill out this <a href="https://forms.gle/dHxj8gttNWRY6Ptm9">lab attendance and feedback form</a>. (If you are in the mega section, you don't need to fill out the form.)</p>

<p>Then, submit this assignment by uploading any files you've edited <strong>to the appropriate Gradescope assignment.</strong> <a href="../lab00/#submit-with-gradescope">Lab 00</a> has detailed instructions.</p>


<h1 id="optional-questions">Optional Questions</h1>



<h3 id="q5-maximum-path-sum">Q5: Maximum Path Sum</h3>


<p>Write a function that takes in a tree and returns the maximum sum of the values along any path from the root to a leaf of the tree.</p>

<solution>

<pre><code>def max_path_sum(t):
    &quot;&quot;&quot;Return the maximum path sum of the tree.

    &gt;&gt;&gt; t = Tree(1, [Tree(5, [Tree(1), Tree(3)]), Tree(10)])
    &gt;&gt;&gt; max_path_sum(t)
    11
    &quot;&quot;&quot;
<div class="sol-highlight">    if t.is_leaf():
      return t.label
    else:
      return t.label + max([max_path_sum(b) for b in t.branches])</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q max_path_sum<button id="copy-code-python3ok-qmax_path_sum" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmax_path_sum").onclick = () => copyCode('python3 ok -q max_path_sum', "copy-code-python3ok-qmax_path_sum");
        </script>
        <br/>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#topics">Topics</a></li>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#mutable-trees">Mutable Trees</a></li>
    <ul>
      <li><a href="#q1-wwpd-trees">Q1: WWPD: Trees</a></li>
      <li><a href="#q2-cumulative-mul">Q2: Cumulative Mul</a></li>
      <li><a href="#q3-prune-small">Q3: Prune Small</a></li>
      <li><a href="#q4-delete">Q4: Delete</a></li>
    </ul>
    <li><a href="#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="#submit-assignment">Submit Assignment</a></li>
  <li><a href="#optional-questions">Optional Questions</a></li>
  <ul>
    <li><a href="#q5-maximum-path-sum">Q5: Maximum Path Sum</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/assets/js/network_storage.js"></script>
    <script src="/assets/js/code_tabindex.js"></script>
    <script src="/assets/js/storable.js"></script>
    <script src="/assets/js/editor.js"></script>
    <script src="/assets/js/copy-button.js"></script>
    <script src="/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>