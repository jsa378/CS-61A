
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="John DeNero, Jedi Tsang (Guest Lecturer), Shm Almeda (GSI)" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/assets/js/hl.js"></script>
    <script src="/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="/assets/css/disc.css">


    <title>
Discussion 4 | CS 61A Fall 2024
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            CS 61A
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/">Lectures</a></li>
            
            <li><a href="/articles/about-61a/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/63971/discussion/">Ed</a></li>
            
            <li><a href="/office-hours/">Office Hours</a></li>
            
            <li><a href="/articles/contact-61a/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://go.cs61a.org/61a-extensions">Request an Extension</a></li>
                
                <li><a href="https://go.cs61a.org/61a-regrades">Request a Regrade</a></li>
                
                <li><a href="https://oh.cs61a.org/">Office Hours Queue</a></li>
                
                <li><a href="https://www.gradescope.com/courses/843175">Gradescope</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1538118/pages">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://code.cs61a.org/scheme/">Scheme Editor</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/articles/campus-res/">Campus Resources</a></li>
                
                <li><a href="/articles/advice/">Advice from Students</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/instructor">Instructors</a></li>
                
                <li><a href="/staff">TAs & Tutors</a></li>
                
                <li><a href="/academic-interns">Academic Interns</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Discussion 4: Tree Recursion

        
        
        <ul class="inline-block list-inline">
          <li><a href="disc04.pdf" class="label label-outline">disc04.pdf</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<!-- <div class="alert storable-login-status"></div> -->


    
<p>If you do not have an in-person TA, you can reach your TA using this <a href="https://berkeley.zoom.us/j/91340395124?pwd=7Lqljf1tslL0QlufLz6HrBtSCB8Ojv.1">Zoom link</a>.</p>

<p>If there are fewer than 3 people in your group, feel free to merge your group with another group in the room.</p>

<p>Now switch to Pensieve:</p>

<ul>
  <li><strong>Everyone</strong>: Go to <a href="https://tutor.pensieve.co/schools/berkeley/all/cs61a/cs61a_fa24/65cc5647008ecc6acf4cbee1/open">pensieve.co</a>, log in with your @berkeley.edu email, and <strong>enter your group number</strong> (which was in the email that assigned you to this lab).</li>
</ul>

<p>Once you're on Pensieve, you don't need to return to this page; Pensieve has all the same content (but more features). If for some reason Penseive doesn't work, return to this page and continue with the discussion.</p>


<h1 id="getting-started">Getting Started</h1>


<p>Say your name and your favorite tree (a particular tree or a kind of tree) in honor of today's topic: tree recursion.</p>

<p><strong>Definition</strong>: Tree recursive functions are functions that call themselves more than once.</p>

<p>In this discussion, don't use a Python interpreter to run code until you are confident your solution is correct. Figure things out and check your work by <em>thinking</em> about what your code will do. Not sure? Talk to your group!</p>

<p><strong>[New]</strong> Recursion takes practice. Please don't get discouraged if you're struggling to write recursive functions. Instead, every time you do solve one (even with help or in a group), make note of what you had to realize to make progress. Students improve through practice and reflection.</p>

<p><strong>[For Fun]</strong> This emoticon of a guy in a cowboy hat is valid Python: <code>o[:&#x2d;D]</code></p>

<pre><code>&gt;&gt;&gt; o = [2, 0, 2, 4]
&gt;&gt;&gt; [ o[:&#x2d;D] for D in range(1,4) ]
[[2, 0, 2], [2, 0], [2]]</code></pre>


<p>ðŸ¤ </p>


<h1 id="tree-recursion">Tree Recursion</h1>


<p>For the following questions, don't start trying to write code right away. Instead, start by describing the recursive case in words. Some examples:</p>

<ul>
  <li>In <code>fib</code> from lecture, the recursive case is to add together the previous two Fibonacci numbers.</li>
  <li>In <code>double_eights</code> from lab, the recursive case is to check for double eights in the rest of the number.</li>
  <li>In <code>count_partitions</code> from lecture, the recursive case is to partition <code>n&#x2d;m</code> using parts up to size <code>m</code> <strong>and</strong> to partition <code>n</code> using parts up to size <code>m&#x2d;1</code>.</li>
</ul>


<h3 id="q1-insect-combinatorics">Q1: Insect Combinatorics</h3>


<p>An insect is inside an <code>m</code> by <code>n</code> grid. The insect starts at the bottom-left corner <code>(1, 1)</code> and wants to end up at the top-right corner <code>(m, n)</code>. The insect can only move up or to the right. Write a function <code>paths</code> that takes the height and width of a grid and returns the number of paths the insect can take from the start to the end. (There is a <a href="https://en.wikipedia.org/wiki/Closed-form_expression">closed-form solution</a> to this problem, but try to answer it with recursion.)</p>

<p><img class="img-responsive center-block" src="assets/grid.jpg" alt="Insect grids." width="" height=""></p>

<p>In the <code>2</code> by <code>2</code> grid, the insect has two paths from the start to the end. In the <code>3</code> by <code>3</code> grid, the insect has six paths (only three are shown above).</p>

<blockquote><p><strong>Hint:</strong> What happens if the insect hits the upper or rightmost edge of the grid?</p></blockquote>


            <div class="monaco-storable" id="paths-input" style="height:432px;"></div>
            <a href="javascript:void" id="modal-link-paths-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-paths-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-paths-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def paths(m, n):\n    &quot;&quot;&quot;Return the number of paths from one corner of an\n    M by N grid to the opposite corner.\n\n    &gt;&gt;&gt; paths(2, 2)\n    2\n    &gt;&gt;&gt; paths(5, 7)\n    210\n    &gt;&gt;&gt; paths(117, 1)\n    1\n    &gt;&gt;&gt; paths(1, 157)\n    1\n    &quot;&quot;&quot;\n    "*** YOUR CODE HERE ***"\n\n', "python", "paths-input"));
            </script>
        





<p><strong>Presentation Time:</strong> Once your group has converged on a solution, it's time to practice your ability to describe why your recursive case is correct. Nominate someone and have them present to the group for practice. Then, tell this description to your TA for feedback (on <a href="https://berkeley.zoom.us/j/91340395124?pwd=7Lqljf1tslL0QlufLz6HrBtSCB8Ojv.1">Zoom</a> if your TA is remote).</p>

<div class="page-break"></div>


<h1 id="tree-recursion-with-lists">Tree Recursion with Lists</h1>


<p><strong>[New]</strong> Some of you already know list operations that we haven't covered yet,
such as <code>append</code>. Don't use those today. All you need are list literals (e.g.,
<code>[1, 2, 3]</code>), item selection (e.g., <code>s[0]</code>), list addition (e.g., <code>[1] + [2,
3]</code>), <code>len</code> (e.g., <code>len(s)</code>), and slicing (e.g., <code>s[1:]</code>). Use those! There will be plenty of time for other list
operations when we introduce them next week.</p>

<p>The most important thing to remember about lists is that a non-empty list <code>s</code> can be split into its first element <code>s[0]</code> and the rest of the list <code>s[1:]</code>.</p>

<pre><code>&gt;&gt;&gt; s = [2, 3, 6, 4]
&gt;&gt;&gt; s[0]
2
&gt;&gt;&gt; s[1:]
[3, 6, 4]</code></pre>




<h3 id="q2-max-product">Q2: Max Product</h3>


<p>Implement <code>max_product</code>, which takes a list of numbers and returns the maximum product that can be formed by multiplying together non-consecutive elements of the list. Assume that all numbers in the input list are greater than or equal to 1.</p>


            <div class="monaco-storable" id="max-product-input" style="height:378px;"></div>
            <a href="javascript:void" id="modal-link-max-product-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-max-product-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-max-product-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def max_product(s):\n    &quot;&quot;&quot;Return the maximum product of non&#x2d;consecutive elements of s.\n\n    &gt;&gt;&gt; max_product([10, 3, 1, 9, 2])   # 10 * 9\n    90\n    &gt;&gt;&gt; max_product([5, 10, 5, 10, 5])  # 5 * 5 * 5\n    125\n    &gt;&gt;&gt; max_product([])                 # The product of no numbers is 1\n    1\n    &quot;&quot;&quot;\n\n', "python", "max-product-input"));
            </script>
        


        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">
First try multiplying the first element by the <code>max_product</code> of everything after the first two elements (skipping the second element because it is consecutive with the first), then try skipping the first element and finding the <code>max_product</code> of the rest. To find which of these options is better, use <code>max</code>.
</div>


        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        More Help<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">
A great way to get help is to talk to the course staff!
</div>





<p>Complete this sentence together: "The recursive case is to choose the larger of ... and ..."</p>

<p><strong>Description Time:</strong> Now try to complete this sentence together: "The recursive case is to choose the larger of <strong>_ and </strong>_." When you're done, see how your answer compares to ours.</p>


        <button id='toggle-3' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Answer<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">
The recursive case is to choose the larger of the largest product that includes the first but not the second element and the largest product that does not include the first element.
</div>

<div class="page-break"></div>


<h3 id="q3-sum-fun">Q3: Sum Fun</h3>


<p>Implement <code>sums(n, m)</code>, which takes a total <code>n</code> and maximum <code>m</code>. It returns a
list of all lists:</p>

<ol>
  <li>that sum to <code>n</code>,</li>
  <li>that contain only positive numbers up to <code>m</code>, and</li>
  <li>in which no two adjacent numbers are the same.</li>
</ol>

<p>Two lists with the same numbers in a different order should both be returned.</p>

<p>Here's a recursive approach that matches the template below: build up the
<code>result</code> list by building all lists that sum to <code>n</code> and start with <code>k</code>, for each
<code>k</code> from 1 to <code>m</code>. For example, the result of <code>sums(5, 3)</code> is made up of three
lists:</p>

<ul>
  <li><code>[[1, 3, 1]]</code> starts with 1,</li>
  <li><code>[[2, 1, 2], [2, 3]]</code> start with 2, and</li>
  <li><code>[[3, 2]]</code> starts with 3.</li>
</ul>

<p><strong>Hint:</strong> Use <code>[k] + s</code> for a number <code>k</code> and list <code>s</code> to build a list that
starts with <code>k</code> and then has all the elements of <code>s</code>.</p>

<pre><code>&gt;&gt;&gt; k = 2
&gt;&gt;&gt; s = [4, 3, 1]
&gt;&gt;&gt; [k] + s
[2, 4, 3, 1]</code></pre>




            <div class="monaco-storable" id="sum_fun-input" style="height:468px;"></div>
            <a href="javascript:void" id="modal-link-sum_fun-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-sum_fun-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-sum_fun-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def sums(n, m):\n    &quot;&quot;&quot;Return lists that sum to n containing positive numbers up to m that\n    have no adjacent repeats.\n\n    &gt;&gt;&gt; sums(5, 1)\n    []\n    &gt;&gt;&gt; sums(5, 2)\n    [[2, 1, 2]]\n    &gt;&gt;&gt; sums(5, 3)\n    [[1, 3, 1], [2, 1, 2], [2, 3], [3, 2]]\n    &gt;&gt;&gt; sums(5, 5)\n    [[1, 3, 1], [1, 4], [2, 1, 2], [2, 3], [3, 2], [4, 1], [5]]\n    &gt;&gt;&gt; sums(6, 3)\n    [[1, 2, 1, 2], [1, 2, 3], [1, 3, 2], [2, 1, 2, 1], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]\n    &quot;&quot;&quot;\n    if n &lt; 0:\n        return []\n    if n == 0:\n        sums_to_zero = []     # The only way to sum to zero using positives\n        return [sums_to_zero] # Return a list of all the ways to sum to zero\n    result = []\n    for k in range(1, m + 1):\n        result = result + [ ___ for rest in ___ if rest == [] or ___ ]\n    return result\n', "python", "sum_fun-input"));
            </script>
        


        <button id='toggle-4' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: First Blank<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-4">
<code>k</code> is the first number in a list that sums to <code>n</code>, and <code>rest</code> is the rest of that list, so build a list that sums to <code>n</code>.
</div>


        <button id='toggle-5' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Second Blank<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-5">
Call <code>sums</code> to build all of the lists that sum to <code>n&#x2d;k</code> so that they can be used to construct lists that sum to <code>n</code> by putting a <code>k</code> on the front.
</div>


        <button id='toggle-6' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Third Blank<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-6">
Here is where you ensure that "no two adjacent numbers are the same." Since <code>k</code> will be the first number in the list you're building, it must not be equal to the first element of <code>rest</code> (which will be the second number in the list you're building).
</div>



<p>If you get stuck (which many groups do), ask for help!</p>

<div class="page-break"></div>


<h1 id="document-the-occasion">Document the Occasion</h1>


<p>Please all fill out the <a href="https://forms.gle/UCYakosihNmKSuZE9">attendance form</a> (one submission per person per week).</p>
<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#getting-started">Getting Started</a></li>
  <li><a href="#tree-recursion">Tree Recursion</a></li>
  <ul>
    <li><a href="#q1-insect-combinatorics">Q1: Insect Combinatorics</a></li>
  </ul>
  <li><a href="#tree-recursion-with-lists">Tree Recursion with Lists</a></li>
  <ul>
    <li><a href="#q2-max-product">Q2: Max Product</a></li>
    <li><a href="#q3-sum-fun">Q3: Sum Fun</a></li>
  </ul>
  <li><a href="#document-the-occasion">Document the Occasion</a></li>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/assets/js/network_storage.js"></script>
    <script src="/assets/js/code_tabindex.js"></script>
    <script src="/assets/js/storable.js"></script>
    <script src="/assets/js/editor.js"></script>
    <script src="/assets/js/copy-button.js"></script>
    <script src="/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>