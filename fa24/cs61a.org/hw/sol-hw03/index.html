
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="John DeNero, Jedi Tsang (Guest Lecturer), Shm Almeda (GSI)" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/assets/js/hl.js"></script>
    <script src="/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="/assets/css/hw.css">


    <title>
Homework 3 Solutions | CS 61A Fall 2024
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            CS 61A
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/">Lectures</a></li>
            
            <li><a href="/articles/about-61a/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/63971/discussion/">Ed</a></li>
            
            <li><a href="/office-hours/">Office Hours</a></li>
            
            <li><a href="/articles/contact-61a/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://go.cs61a.org/61a-extensions">Request an Extension</a></li>
                
                <li><a href="https://go.cs61a.org/61a-regrades">Request a Regrade</a></li>
                
                <li><a href="https://oh.cs61a.org/">Office Hours Queue</a></li>
                
                <li><a href="https://www.gradescope.com/courses/843175">Gradescope</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1538118/pages">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://code.cs61a.org/scheme/">Scheme Editor</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/articles/campus-res/">Campus Resources</a></li>
                
                <li><a href="/articles/advice/">Advice from Students</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/instructor">Instructors</a></li>
                
                <li><a href="/staff">TAs & Tutors</a></li>
                
                <li><a href="/academic-interns">Academic Interns</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Homework 3 Solutions

        
        
        <ul class="inline-block list-inline">
          <li><a href="hw03.zip" class="label label-outline">hw03.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    
<h2>Solution Files</h2>
<p>You can find the solutions in <a href="hw03.py">hw03.py</a>.</p>

    
<h1 id="required-questions">Required Questions</h1>


<br>

        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Getting Started Videos<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">


<h2 id="getting-started-videos" class="no-toc">Getting Started Videos</h2>


<p>These videos may provide some helpful direction for tackling the coding
problems on this assignment.</p>

<blockquote><p>To see these videos, you should be logged into your berkeley.edu email.</p></blockquote>


            <iframe width="560" height="315" src="https://youtube.com/embed/videoseries?list=PLx38hZJ5RLZfTmV97imfuOKeTdjhZRFYr"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" aria-label = "hw3-getstarted"
                allowfullscreen></iframe><p><a href='https://youtu.be/playlist?list=PLx38hZJ5RLZfTmV97imfuOKeTdjhZRFYr'> YouTube link </a></p>
</div>


<h3 id="q1-num-eights">Q1: Num Eights</h3>


<p>Write a recursive function <code>num_eights</code> that takes a positive integer <code>n</code> and
returns the number of times the digit 8 appears in <code>n</code>.</p>

<p><strong>Important:</strong>
Use recursion; the tests will fail if you use any assignment statements or loops.
(You can define new functions, but don't put assignment statements there either.)</p>

<solution>

<pre><code>def num_eights(n):
    &quot;&quot;&quot;Returns the number of times 8 appears as a digit of n.

    &gt;&gt;&gt; num_eights(3)
    0
    &gt;&gt;&gt; num_eights(8)
    1
    &gt;&gt;&gt; num_eights(88888888)
    8
    &gt;&gt;&gt; num_eights(2638)
    1
    &gt;&gt;&gt; num_eights(86380)
    2
    &gt;&gt;&gt; num_eights(12345)
    0
    &gt;&gt;&gt; num_eights(8782089)
    3
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # ban all assignment statements
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;num_eights&#x27;,
    ...       [&#x27;Assign&#x27;, &#x27;AnnAssign&#x27;, &#x27;AugAssign&#x27;, &#x27;NamedExpr&#x27;, &#x27;For&#x27;, &#x27;While&#x27;])
    True
    &quot;&quot;&quot;
<div class="sol-highlight">    if n % 10 == 8:
        return 1 + num_eights(n // 10)
    elif n &lt; 10:
        return 0
    else:
        return num_eights(n // 10)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q num_eights<button id="copy-code-python3ok-qnum_eights" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qnum_eights").onclick = () => copyCode('python3 ok -q num_eights', "copy-code-python3ok-qnum_eights");
        </script>
        <br/>

<div class="sol-highlight">

<p>The equivalent iterative version of this problem might look something like
this:</p>

<pre><code>total = 0
while n &gt; 0:
    if n % 10 == 8:
        total = total + 1
    n = n // 10
return total</code></pre>

<p>The main idea is that we check each digit for a eight. The recursive solution
is similar, except that you depend on the recursive call to count the
occurences of eight in the rest of the number. Then, you add that to the number
of eights you see in the current digit.</p>

</div>


<h3 id="q2-digit-distance">Q2: Digit Distance</h3>


<p>For a given integer, the <em>digit distance</em> is the sum of the absolute differences between
consecutive digits. For example:</p>

<ul>
  <li>The digit distance of <code>61</code> is <code>5</code>, as the absolute value of <code>6 &#x2d; 1</code> is <code>5</code>.</li>
  <li>The digit distance of <code>71253</code> is <code>12</code> (<code>abs(7&#x2d;1) + abs(1&#x2d;2) + abs(2&#x2d;5) + abs(5&#x2d;3)</code> = <code>6 + 1 + 3 + 2</code>).</li>
  <li>The digit distance of <code>6</code> is <code>0</code> because there are no pairs of consecutive digits.</li>
</ul>

<p>Write a function that determines the digit distance of a positive integer.
You must use recursion or the tests will fail.</p>

<solution>

<pre><code>def digit_distance(n):
    &quot;&quot;&quot;Determines the digit distance of n.

    &gt;&gt;&gt; digit_distance(3)
    0
    &gt;&gt;&gt; digit_distance(777) # 0 + 0
    0
    &gt;&gt;&gt; digit_distance(314) # 2 + 3
    5
    &gt;&gt;&gt; digit_distance(31415926535) # 2 + 3 + 3 + 4 + ... + 2
    32
    &gt;&gt;&gt; digit_distance(3464660003)  # 1 + 2 + 2 + 2 + ... + 3
    16
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # ban all loops
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;digit_distance&#x27;,
    ...       [&#x27;For&#x27;, &#x27;While&#x27;])
    True
    &quot;&quot;&quot;
<div class="sol-highlight">    if n &lt; 10:
        return 0
    return abs(n % 10 &#x2d; (n // 10) % 10) + digit_distance(n // 10)

# Alternate solution 1
def digit_distance_alt(n):
    def helper(prev, n):
        if n == 0:
            return 0
        dist = abs(prev &#x2d; n % 10)
        return dist + helper(n % 10, n // 10)
    return helper(n % 10, n // 10)

# Alternate solution 2
def digit_distance_alt_2(n):
    def helper(dist, prev, n):
        if n == 0:
            return dist
        dist += abs(prev &#x2d; n % 10)
        prev = n % 10
        n //= 10
        return helper(dist, prev, n)
    return helper(0, n % 10, n // 10)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q digit_distance<button id="copy-code-python3ok-qdigit_distance" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qdigit_distance").onclick = () => copyCode('python3 ok -q digit_distance', "copy-code-python3ok-qdigit_distance");
        </script>
        <br/>


<h3 id="q3-interleaved-sum">Q3: Interleaved Sum</h3>


<p>Write a function <code>interleaved_sum</code>, which takes in a number <code>n</code> and
two one-argument functions: <code>odd_func</code> and <code>even_func</code>. It applies <code>odd_func</code>
to every odd number and <code>even_func</code> to every even number from 1 to <code>n</code> <em>inclusive</em>
and returns the sum.</p>

<p>For example, executing <code>interleaved_sum(5, lambda x: x, lambda x: x * x)</code>
returns <code>1 + 2*2 + 3 + 4*4 + 5 = 29</code>.</p>

<blockquote><p><strong>Important:</strong> Implement this function without using any loops or directly testing if a number
is odd or even (no using <code>%</code>). Instead of directly checking whether a number
is even or odd, start with 1, which you know is an odd number.</p>

<p><strong>Hint:</strong> Introduce an inner helper function that takes an odd number <code>k</code> and
computes an interleaved sum from <code>k</code> to <code>n</code> (including <code>n</code>).</p></blockquote>

<solution>

<pre><code>def interleaved_sum(n, odd_func, even_func):
    &quot;&quot;&quot;Compute the sum odd_func(1) + even_func(2) + odd_func(3) + ..., up
    to n.

    &gt;&gt;&gt; identity = lambda x: x
    &gt;&gt;&gt; square = lambda x: x * x
    &gt;&gt;&gt; triple = lambda x: x * 3
    &gt;&gt;&gt; interleaved_sum(5, identity, square) # 1   + 2*2 + 3   + 4*4 + 5
    29
    &gt;&gt;&gt; interleaved_sum(5, square, identity) # 1*1 + 2   + 3*3 + 4   + 5*5
    41
    &gt;&gt;&gt; interleaved_sum(4, triple, square)   # 1*3 + 2*2 + 3*3 + 4*4
    32
    &gt;&gt;&gt; interleaved_sum(4, square, triple)   # 1*1 + 2*3 + 3*3 + 4*3
    28
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;interleaved_sum&#x27;, [&#x27;While&#x27;, &#x27;For&#x27;, &#x27;Mod&#x27;]) # ban loops and %
    True
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;interleaved_sum&#x27;, [&#x27;BitAnd&#x27;, &#x27;BitOr&#x27;, &#x27;BitXor&#x27;]) # ban bitwise operators, don&#x27;t worry about these if you don&#x27;t know what they are
    True
    &quot;&quot;&quot;
<div class="sol-highlight">    def sum_from(k):
        if k &gt; n:
            return 0
        elif k == n:
            return odd_func(k)
        else:
            return odd_func(k) + even_func(k+1) + sum_from(k + 2)
    return sum_from(1)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q interleaved_sum<button id="copy-code-python3ok-qinterleaved_sum" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qinterleaved_sum").onclick = () => copyCode('python3 ok -q interleaved_sum', "copy-code-python3ok-qinterleaved_sum");
        </script>
        <br/>


<h3 id="q4-count-dollars">Q4: Count Dollars</h3>


<p>Given a positive integer <code>total</code>, a set of dollar bills makes change for <code>total</code> if
the sum of the values of the dollar bills is <code>total</code>.
Here we will use standard US dollar bill values: 1, 5, 10, 20, 50, and 100.
For example, the following sets make change for <code>15</code>:</p>

<ul>
  <li>15 1-dollar bills</li>
  <li>10 1-dollar, 1 5-dollar bills</li>
  <li>5 1-dollar, 2 5-dollar bills</li>
  <li>5 1-dollar, 1 10-dollar bills</li>
  <li>3 5-dollar bills</li>
  <li>1 5-dollar, 1 10-dollar bills</li>
</ul>

<p>Thus, there are 6 ways to make change for <code>15</code>.  Write a <strong>recursive</strong> function
<code>count_dollars</code> that takes a positive integer <code>total</code> and returns the number of
ways to make change for <code>total</code> using 1, 5, 10, 20, 50, and 100 dollar bills.</p>

<p>Use <code>next_smaller_dollar</code> in your solution:
<code>next_smaller_dollar</code> will return the next smaller dollar bill value from the
input (e.g. <code>next_smaller_dollar(5)</code> is <code>1</code>).
<em>The function will return <code>None</code> if the next dollar bill value does not exist.</em></p>

<blockquote><p><strong>Important:</strong> Use recursion; the tests will fail if you use loops.</p>

<p><strong>Hint:</strong>
Refer to the <a href="https://www.composingprograms.com/pages/17-recursive-functions.html#example-partitions">implementation</a> of <code>count_partitions</code> for an example
of how to count the ways to sum up to a final value with smaller parts.
If you need to keep track of more than one value across recursive calls,
consider writing a helper function.</p></blockquote>

<solution>

<pre><code>def next_smaller_dollar(bill):
    &quot;&quot;&quot;Returns the next smaller bill in order.&quot;&quot;&quot;
    if bill == 100:
        return 50
    if bill == 50:
        return 20
    if bill == 20:
        return 10
    elif bill == 10:
        return 5
    elif bill == 5:
        return 1

def count_dollars(total):
    &quot;&quot;&quot;Return the number of ways to make change.

    &gt;&gt;&gt; count_dollars(15)  # 15 $1 bills, 10 $1 &amp; 1 $5 bills, ... 1 $5 &amp; 1 $10 bills
    6
    &gt;&gt;&gt; count_dollars(10)  # 10 $1 bills, 5 $1 &amp; 1 $5 bills, 2 $5 bills, 10 $1 bills
    4
    &gt;&gt;&gt; count_dollars(20)  # 20 $1 bills, 15 $1 &amp; $5 bills, ... 1 $20 bill
    10
    &gt;&gt;&gt; count_dollars(45)  # How many ways to make change for 45 dollars?
    44
    &gt;&gt;&gt; count_dollars(100) # How many ways to make change for 100 dollars?
    344
    &gt;&gt;&gt; count_dollars(200) # How many ways to make change for 200 dollars?
    3274
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # ban iteration
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;count_dollars&#x27;, [&#x27;While&#x27;, &#x27;For&#x27;])
    True
    &quot;&quot;&quot;
<div class="sol-highlight">    def constrained_count(total, largest_bill):
        if total == 0:
            return 1
        if total &lt; 0:
            return 0
        if largest_bill == None:
            return 0
        without_dollar_bill = constrained_count(total, next_smaller_dollar(largest_bill))
        with_dollar_bill = constrained_count(total &#x2d; largest_bill, largest_bill)
        return without_dollar_bill + with_dollar_bill
    return constrained_count(total, 100)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q count_dollars<button id="copy-code-python3ok-qcount_dollars" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qcount_dollars").onclick = () => copyCode('python3 ok -q count_dollars', "copy-code-python3ok-qcount_dollars");
        </script>
        <br/>

<div class="sol-highlight">

<p>This is remarkably similar to the <code>count_partitions</code> problem, with a
few minor differences:</p>

<ul>
  <li>A maximum partition size is not given, so we need to create a helper
  function that takes in two arguments: current total and dollar bill value.</li>
  <li>Partition size is not linear. To get the next partition you need to call
  <code>next_smaller_dollar</code>.</li>
</ul>

</div>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Gradescope to receive credit for it.</p>


<h1 id="submit-assignment">Submit Assignment</h1>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Gradescope assignment.</strong> <a href="../../lab/lab00/#submit-with-gradescope">Lab 00</a> has detailed instructions.</p>


<h1 id="optional-questions">Optional Questions</h1>


<blockquote><p>These questions are optional. If you don't complete them, you will
still receive credit for this assignment. They are great practice, so do them
anyway!</p></blockquote>


<h3 id="q5-count-dollars-upward">Q5: Count Dollars Upward</h3>


<p>Write a <strong>recursive</strong> function <code>count_dollars_upward</code> that is just like <code>count_dollars</code>
except it uses <code>next_larger_dollar</code>, which returns the next larger dollar bill value from the
input (e.g. <code>next_larger_dollar(5)</code> is <code>10</code>).
<em>The function will return <code>None</code> if the next dollar bill value does not exist.</em></p>

<blockquote><p><strong>Important:</strong> Use recursion; the tests will fail if you use loops.</p></blockquote>

<solution>

<pre><code>def next_larger_dollar(bill):
    &quot;&quot;&quot;Returns the next larger bill in order.&quot;&quot;&quot;
    if bill == 1:
        return 5
    elif bill == 5:
        return 10
    elif bill == 10:
        return 20
    elif bill == 20:
        return 50
    elif bill == 50:
        return 100

def count_dollars_upward(total):
    &quot;&quot;&quot;Return the number of ways to make change using bills.

    &gt;&gt;&gt; count_dollars_upward(15)  # 15 $1 bills, 10 $1 &amp; 1 $5 bills, ... 1 $5 &amp; 1 $10 bills
    6
    &gt;&gt;&gt; count_dollars_upward(10)  # 10 $1 bills, 5 $1 &amp; 1 $5 bills, 2 $5 bills, 10 $1 bills
    4
    &gt;&gt;&gt; count_dollars_upward(20)  # 20 $1 bills, 15 $1 &amp; $5 bills, ... 1 $20 bill
    10
    &gt;&gt;&gt; count_dollars_upward(45)  # How many ways to make change for 45 dollars?
    44
    &gt;&gt;&gt; count_dollars_upward(100) # How many ways to make change for 100 dollars?
    344
    &gt;&gt;&gt; count_dollars_upward(200) # How many ways to make change for 200 dollars?
    3274
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # ban iteration
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;count_dollars_upward&#x27;, [&#x27;While&#x27;, &#x27;For&#x27;])
    True
    &quot;&quot;&quot;
<div class="sol-highlight">    def constrained_count(total, smallest_bill):
        if total == 0:
            return 1
        if total &lt; 0:
            return 0
        if smallest_bill == None:
            return 0
        without_dollar_bill = constrained_count(total, next_larger_dollar(smallest_bill))
        with_dollar_bill = constrained_count(total &#x2d; smallest_bill, smallest_bill)
        return without_dollar_bill + with_dollar_bill
    return constrained_count(total, 1)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q count_dollars_upward<button id="copy-code-python3ok-qcount_dollars_upward" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qcount_dollars_upward").onclick = () => copyCode('python3 ok -q count_dollars_upward', "copy-code-python3ok-qcount_dollars_upward");
        </script>
        <br/>

<div class="sol-highlight">

<p>This is remarkably similar to the <code>count_partitions</code> problem, with a
few minor differences:</p>

<ul>
  <li>A maximum partition size is not given, so we need to create a helper
  function that takes in two arguments: current total and dollar bill value.</li>
  <li>Partition size is not linear. To get the next partition you need to call
  <code>next_larger_dollar</code>.</li>
</ul>

</div>


<h1 id="exam-practice">Exam Practice</h1>


<p>Homework assignments will also contain prior exam-level questions for you to take a look at.
These questions have no submission component; feel free to attempt them if you'd like a challenge!</p>

<ol>
  <li>Fall 2017 MT1 Q4a: <a href="https://inst.eecs.berkeley.edu/~cs61a/fa21/exam/fa17/mt1/61a-fa17-mt1.pdf#page=5">Digital</a></li>
  <li>Fall 2019 Final Q6b: <a href="https://inst.eecs.berkeley.edu/~cs61a/sp21/exam/fa19/final/61a-fa19-final.pdf#page=6">Palindromes</a></li>
</ol>


<h1 id="just-for-fun-questions">Just For Fun Questions</h1>


<p>The questions below are out of scope for 61A. You can try them if you want an extra challenge, but they're just puzzles that are not required for the course. Almost all students will skip them, and that's fine. We will <strong>not</strong> be prioritizing support for these questions on Ed or during Office Hours.</p>


<h3 id="q6-towers-of-hanoi">Q6: Towers of Hanoi</h3>


<!--

<blockquote><p>This problem was covered in lecture, but feel free to
use this question to test your understanding and re-implement the problem.
--></p></blockquote>

A classic puzzle called the Towers of Hanoi is a game that consists of three
rods, and a number of disks of different sizes which can slide onto any rod.
The puzzle starts with <code>n</code> disks in a neat stack in ascending order of size on
a <code>start</code> rod, the smallest at the top, forming a conical shape.

<img class="img-responsive center-block" src="https://upload.wikimedia.org/wikipedia/commons/0/07/Tower_of_Hanoi.jpeg" alt="Towers of Hanoi" width="" height="">

The objective of the puzzle is to move the entire stack to an <code>end</code> rod,
obeying the following rules:

<ul>
  <li>Only one disk may be moved at a time.</li>
  <li>Each move consists of taking the top (smallest) disk from one of the rods and
  sliding it onto another rod, on top of the other disks that may already be
  present on that rod.</li>
  <li>No disk may be placed on top of a smaller disk.</li>
</ul>

Complete the definition of <code>move_stack</code>, which prints out the steps required to
move <code>n</code> disks from the <code>start</code> rod to the <code>end</code> rod without violating the
rules. The provided <code>print_move</code> function will print out the step to move a
single disk from the given <code>origin</code> to the given <code>destination</code>.

<blockquote><p><strong>Hint:</strong>
Draw out a few games with various <code>n</code> on a piece of paper and try to
find a pattern of disk movements that applies to any <code>n</code>. In your solution,
take the recursive leap of faith whenever you need to move any amount of
disks less than <code>n</code> from one rod to another. If you need more help, see
the following hints.</p></blockquote>


        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint 1<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<p>See the following animation of the Towers of Hanoi, found on
<a href="https://commons.wikimedia.org/wiki/File:Iterative_algorithm_solving_a_6_disks_Tower_of_Hanoi.gif">Wikimedia</a>
by user <a href="https://commons.wikimedia.org/wiki/User:Trixx">Trixx</a>.</p>

<img class="img-responsive center-block" src="https://upload.wikimedia.org/wikipedia/commons/8/8d/Iterative_algorithm_solving_a_6_disks_Tower_of_Hanoi.gif"/>
</div>
<br>

        <button id='toggle-3' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint 2<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">

<p>The strategy used in Towers of Hanoi is to move all but the bottom disc to the
second peg, then moving the bottom disc to the third peg, then moving all but
the second disc from the second to the third peg.</p>

</div>
<br>

        <button id='toggle-4' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint 3<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-4">

<p>One thing you don't need to worry about is collecting all the steps.
<code>print</code> effectively "collects" all the results in the terminal as long as you
make sure that the moves are printed in order.</p>

</div>

<solution>

<pre><code>def print_move(origin, destination):
    &quot;&quot;&quot;Print instructions to move a disk.&quot;&quot;&quot;
    print(&quot;Move the top disk from rod&quot;, origin, &quot;to rod&quot;, destination)

def move_stack(n, start, end):
    &quot;&quot;&quot;Print the moves required to move n disks on the start pole to the end
    pole without violating the rules of Towers of Hanoi.

    n &#x2d;&#x2d; number of disks
    start &#x2d;&#x2d; a pole position, either 1, 2, or 3
    end &#x2d;&#x2d; a pole position, either 1, 2, or 3

    There are exactly three poles, and start and end must be different. Assume
    that the start pole has at least n disks of increasing size, and the end
    pole is either empty or has a top disk larger than the top n start disks.

    &gt;&gt;&gt; move_stack(1, 1, 3)
    Move the top disk from rod 1 to rod 3
    &gt;&gt;&gt; move_stack(2, 1, 3)
    Move the top disk from rod 1 to rod 2
    Move the top disk from rod 1 to rod 3
    Move the top disk from rod 2 to rod 3
    &gt;&gt;&gt; move_stack(3, 1, 3)
    Move the top disk from rod 1 to rod 3
    Move the top disk from rod 1 to rod 2
    Move the top disk from rod 3 to rod 2
    Move the top disk from rod 1 to rod 3
    Move the top disk from rod 2 to rod 1
    Move the top disk from rod 2 to rod 3
    Move the top disk from rod 1 to rod 3
    &quot;&quot;&quot;
    assert 1 &lt;= start &lt;= 3 and 1 &lt;= end &lt;= 3 and start != end, &quot;Bad start/end&quot;
<div class="sol-highlight">    if n == 1:
        print_move(start, end)
    else:
        other = 6 &#x2d; start &#x2d; end
        move_stack(n&#x2d;1, start, other)
        print_move(start, end)
        move_stack(n&#x2d;1, other, end)</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q move_stack<button id="copy-code-python3ok-qmove_stack" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmove_stack").onclick = () => copyCode('python3 ok -q move_stack', "copy-code-python3ok-qmove_stack");
        </script>
        <br/>

<div class="sol-highlight">

<p>To solve the Towers of Hanoi problem for <code>n</code> disks, we need to do three
steps:</p>

<ol>
  <li>Move everything but the last disk (<code>n&#x2d;1</code> disks) to someplace in the
  middle (not the start nor the end rod).</li>
  <li>Move the last disk (a single disk) to the end rod. This must occur
  after step 1 (we have to move everything above it away first)!</li>
  <li>Move everything but the last disk (the disks from step 1) from the
  middle on top of the end rod.</li>
</ol>

<p>We take advantage of the fact that the recursive function <code>move_stack</code> is
guaranteed to move <code>n</code> disks from <code>start</code> to <code>end</code> while obeying the rules
of Towers of Hanoi. The only thing that remains is to make sure that we
have set up the playing board to make that possible.</p>

<p>Since we move a disk to end rod, we run the risk of <code>move_stack</code> doing an
improper move (big disk on top of small disk). But since we're moving the
biggest disk possible, nothing in the <code>n&#x2d;1</code> disks above that is bigger.
Therefore, even though we do not explicitly state the Towers of Hanoi
constraints, we can still carry out the correct steps.</p>

<p>Video walkthrough: <p><a href='https://youtu.be/VwynGQiCTFM'> YouTube link </a></p></p>

</div>


<h3 id="q7-anonymous-factorial">Q7: Anonymous Factorial</h3>


<blockquote><p>This question demonstrates that it's possible to write recursive functions
without assigning them a name in the global frame.</p></blockquote>

<p>The recursive factorial function can be written as a single expression
by using a
<a href="http://docs.python.org/py3k/reference/expressions.html#conditional-expressions">conditional expression</a>.</p>

<pre><code>&gt;&gt;&gt; fact = lambda n: 1 if n == 1 else mul(n, fact(sub(n, 1)))
&gt;&gt;&gt; fact(5)
120</code></pre>

<p>However, this implementation relies on the fact (no pun intended) that
<code>fact</code> has a name, to which we refer in the body of <code>fact</code>. To write a
recursive function, we have always given it a name using a <code>def</code> or
assignment statement so that we can refer to the function within its
own body. In this question, your job is to define <code>fact</code> recursively
without giving it a name!</p>

<p>Write an expression that computes <code>n</code> factorial using only call
expressions, conditional expressions, and <code>lambda</code> expressions (no
assignment or <code>def</code> statements).</p>

<blockquote><p><strong>Note:</strong>
You are not allowed to use <code>make_anonymous_factorial</code> in your return
expression.</p></blockquote>

<p>The <code>sub</code> and <code>mul</code> functions from the <code>operator</code> module are the only
built-in functions required to solve this problem.</p>

<solution>

<pre><code>from operator import sub, mul

def make_anonymous_factorial():
    &quot;&quot;&quot;Return the value of an expression that computes factorial.

    &gt;&gt;&gt; make_anonymous_factorial()(5)
    120
    &gt;&gt;&gt; from construct_check import check
    &gt;&gt;&gt; # ban any assignments or recursion
    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;make_anonymous_factorial&#x27;,
    ...     [&#x27;Assign&#x27;, &#x27;AnnAssign&#x27;, &#x27;AugAssign&#x27;, &#x27;NamedExpr&#x27;, &#x27;FunctionDef&#x27;, &#x27;Recursion&#x27;])
    True
    &quot;&quot;&quot;
<div class="sol-highlight">    return (lambda f: lambda k: f(f, k))(lambda f, k: k if k == 1 else mul(k, f(f, sub(k, 1))))
    # Alternate solution:
    return (lambda f: f(f))(lambda f: lambda x: 1 if x == 0 else x * f(f)(x &#x2d; 1))</div></code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q make_anonymous_factorial<button id="copy-code-python3ok-qmake_anonymous_factorial" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qmake_anonymous_factorial").onclick = () => copyCode('python3 ok -q make_anonymous_factorial', "copy-code-python3ok-qmake_anonymous_factorial");
        </script>
        <br/>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#q1-num-eights">Q1: Num Eights</a></li>
    <li><a href="#q2-digit-distance">Q2: Digit Distance</a></li>
    <li><a href="#q3-interleaved-sum">Q3: Interleaved Sum</a></li>
    <li><a href="#q4-count-dollars">Q4: Count Dollars</a></li>
  </ul>
  <ul>
    <li><a href="#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="#submit-assignment">Submit Assignment</a></li>
  <li><a href="#optional-questions">Optional Questions</a></li>
  <ul>
    <li><a href="#q5-count-dollars-upward">Q5: Count Dollars Upward</a></li>
  </ul>
  <li><a href="#exam-practice">Exam Practice</a></li>
  <li><a href="#just-for-fun-questions">Just For Fun Questions</a></li>
  <ul>
    <li><a href="#q6-towers-of-hanoi">Q6: Towers of Hanoi</a></li>
    <li><a href="#q7-anonymous-factorial">Q7: Anonymous Factorial</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/assets/js/network_storage.js"></script>
    <script src="/assets/js/code_tabindex.js"></script>
    <script src="/assets/js/storable.js"></script>
    <script src="/assets/js/editor.js"></script>
    <script src="/assets/js/copy-button.js"></script>
    <script src="/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>